<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Which Grand Strategy Are You?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Chart.js for radar / spider charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f7fb;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 900px;
      margin: 2rem auto;
      background: #ffffff;
      padding: 2rem 2.5rem;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.12);
    }

    h1, h2, h3 {
      margin-top: 0;
      color: #0f172a;
    }

    h1 {
      font-size: 1.9rem;
      margin-bottom: 0.25rem;
    }

    h2 {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
      color: #475569;
      font-weight: 500;
    }

    .question {
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #e2e8f0;
    }

    .question:last-of-type {
      border-bottom: none;
    }

    .question-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #111827;
    }

    .question-text {
      margin-bottom: 0.25rem;
      color: #1e293b;
    }

    .options {
      margin-left: 0.25rem;
      margin-top: 0.25rem;
    }

    .option-label {
      display: block;
      margin-bottom: 0.25rem;
      cursor: pointer;
      color: #334155;
    }

    .option-label input {
      margin-right: 0.35rem;
    }

    .btn {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.75rem 1.5rem;
      border-radius: 999px;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      background: #2563eb;
      color: #ffffff;
      box-shadow: 0 8px 18px rgba(37, 99, 235, 0.3);
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.1s ease;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(37, 99, 235, 0.35);
      background: #1d4ed8;
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 6px 14px rgba(37, 99, 235, 0.35);
    }

    .result {
      margin-top: 2rem;
      padding: 1.5rem;
      border-radius: 12px;
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      display: none;
    }

    .result-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: #1d4ed8;
    }

    .result-subtitle {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #0f172a;
    }

    .result-text {
      margin-bottom: 0.75rem;
      color: #1e293b;
    }

    .score-breakdown {
      margin-top: 0.75rem;
      font-size: 0.95rem;
      color: #334155;
    }

    .score-badge {
      display: inline-block;
      margin-right: 0.75rem;
      margin-top: 0.25rem;
      padding: 0.15rem 0.6rem;
      border-radius: 999px;
      background: #e5edff;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .warning {
      margin-top: 0.75rem;
      color: #b91c1c;
      font-size: 0.95rem;
    }

    .charts-wrapper {
      margin-top: 1.5rem;
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .chart-card {
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #dbe3ff;
      padding: 1rem 1.25rem 1.25rem;
    }

    .chart-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #1e293b;
      font-size: 0.98rem;
    }

    .chart-subtitle {
      font-size: 0.85rem;
      color: #6b7280;
      margin-bottom: 0.5rem;
    }

    canvas {
      max-width: 100%;
      height: 260px !important;
    }

    .footer-note {
      margin-top: 2rem;
      font-size: 0.85rem;
      color: #6b7280;
      text-align: center;
    }

    @media (max-width: 640px) {
      .container {
        margin: 1rem;
        padding: 1.25rem 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Which Grand Strategy Are You?</h1>
    <h2>A quick quiz on IR grand strategy preferences</h2>

    <form id="grandStrategyForm">
      <!-- Q1 -->
      <div class="question">
        <div class="question-title">Question 1</div>
        <div class="question-text">
          How involved should a major power be in world affairs?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q1" value="A" />
            A. Only when absolutely necessary — most things abroad aren’t our business.
          </label>
          <label class="option-label">
            <input type="radio" name="q1" value="B" />
            B. Engage selectively, and only where the stakes are clearly vital for us.
          </label>
          <label class="option-label">
            <input type="radio" name="q1" value="C" />
            C. Stay deeply involved to maintain a stable, liberal international order.
          </label>
          <label class="option-label">
            <input type="radio" name="q1" value="D" />
            D. Be visibly engaged and strong everywhere that matters so no rival doubts our resolve.
          </label>
        </div>
      </div>

      <!-- Q2 -->
      <div class="question">
        <div class="question-title">Question 2</div>
        <div class="question-text">
          A conflict breaks out in a faraway region. What’s your first reaction?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q2" value="A" />
            A. “Not our problem.”
          </label>
          <label class="option-label">
            <input type="radio" name="q2" value="B" />
            B. “Is the region vital to us? If yes, we should help.”
          </label>
          <label class="option-label">
            <input type="radio" name="q2" value="C" />
            C. “We need to intervene to prevent instability from spreading and harming the liberal order.”
          </label>
          <label class="option-label">
            <input type="radio" name="q2" value="D" />
            D. “We should respond forcefully to show resolve and deter challengers.”
          </label>
        </div>
      </div>

      <!-- Q3 -->
      <div class="question">
        <div class="question-title">Question 3</div>
        <div class="question-text">
          What’s the ideal size of the military?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q3" value="A" />
            A. Much smaller — too much spending abroad distracts from domestic priorities.
          </label>
          <label class="option-label">
            <input type="radio" name="q3" value="B" />
            B. Medium-large — enough to secure key regions and limited commitments.
          </label>
          <label class="option-label">
            <input type="radio" name="q3" value="C" />
            C. Large — global leadership and sustaining alliances require serious capacity.
          </label>
          <label class="option-label">
            <input type="radio" name="q3" value="D" />
            D. Overwhelming superiority — we should clearly outgun any potential rival and be ready to use it.
          </label>
        </div>
      </div>

      <!-- Q4 -->
      <div class="question">
        <div class="question-title">Question 4</div>
        <div class="question-text">
          What’s your philosophy on alliances?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q4" value="A" />
            A. Avoid them; they drag you into fights.
          </label>
          <label class="option-label">
            <input type="radio" name="q4" value="B" />
            B. Keep alliances only in strategically crucial regions.
          </label>
          <label class="option-label">
            <input type="radio" name="q4" value="C" />
            C. Alliances everywhere — they strengthen global order and support democracy.
          </label>
          <label class="option-label">
            <input type="radio" name="q4" value="D" />
            D. Use alliances to project strength and lock in our leadership so no one doubts our commitment.
          </label>
        </div>
      </div>

      <!-- Q5 -->
      <div class="question">
        <div class="question-title">Question 5</div>
        <div class="question-text">
          A rising power is challenging the existing order. What should be done?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q5" value="A" />
            A. Nothing unless it threatens us directly.
          </label>
          <label class="option-label">
            <input type="radio" name="q5" value="B" />
            B. Use diplomacy + regional allies to balance it where our interests are most affected.
          </label>
          <label class="option-label">
            <input type="radio" name="q5" value="C" />
            C. Contain it actively through military presence, alliances, and economic pressure to defend the liberal order.
          </label>
          <label class="option-label">
            <input type="radio" name="q5" value="D" />
            D. Confront it decisively to signal that challenges to our dominance and credibility will fail.
          </label>
        </div>
      </div>

      <!-- Q6 -->
      <div class="question">
        <div class="question-title">Question 6</div>
        <div class="question-text">
          Your preferred foreign-policy motto:
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q6" value="A" />
            A. “Mind our own business.”
          </label>
          <label class="option-label">
            <input type="radio" name="q6" value="B" />
            B. “Engage where it matters, not everywhere.”
          </label>
          <label class="option-label">
            <input type="radio" name="q6" value="C" />
            C. “Lead the liberal world.”
          </label>
          <label class="option-label">
            <input type="radio" name="q6" value="D" />
            D. “Never show weakness.”
          </label>
        </div>
      </div>

      <!-- Q7 -->
      <div class="question">
        <div class="question-title">Question 7</div>
        <div class="question-text">
          What’s your biggest fear?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q7" value="A" />
            A. Being dragged into endless foreign wars.
          </label>
          <label class="option-label">
            <input type="radio" name="q7" value="B" />
            B. Losing influence in key regions that truly matter.
          </label>
          <label class="option-label">
            <input type="radio" name="q7" value="C" />
            C. Global disorder, human rights abuses, and unchecked aggression.
          </label>
          <label class="option-label">
            <input type="radio" name="q7" value="D" />
            D. Looking weak or irresolute, inviting challenges and tests of our credibility.
          </label>
        </div>
      </div>

      <!-- Q8 -->
      <div class="question">
        <div class="question-title">Question 8</div>
        <div class="question-text">
          How do you see IGOs, international institutions, and norms?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q8" value="A" />
            A. They mostly don’t matter; power and interests drive outcomes (restraint).
          </label>
          <label class="option-label">
            <input type="radio" name="q8" value="B" />
            B. They matter as tools that constrain and reward — sticks and carrots we can use when it suits our interests.
          </label>
          <label class="option-label">
            <input type="radio" name="q8" value="C" />
            C. They matter because they socialize states, support cooperation, and help spread democratic norms.
          </label>
          <label class="option-label">
            <input type="radio" name="q8" value="D" />
            D. They matter as arenas to pressure and discipline rivals, forcing them to adapt to our preferred order.
          </label>
        </div>
      </div>

      <!-- Q9 -->
      <div class="question">
        <div class="question-title">Question 9</div>
        <div class="question-text">
          Should we defend Taiwan?
        </div>
        <div class="options">
          <label class="option-label">
            <input type="radio" name="q9" value="A" />
            A. No — Taiwan is not vital to us; we should avoid war over it.
          </label>
          <label class="option-label">
            <input type="radio" name="q9" value="B" />
            B. Only if our concrete interests (like key regional stability or trade) are clearly threatened.
          </label>
          <label class="option-label">
            <input type="radio" name="q9" value="C" />
            C. Yes — we should defend Taiwan because it is a democracy and part of a liberal order we support.
          </label>
          <label class="option-label">
            <input type="radio" name="q9" value="D" />
            D. Yes — we must defend Taiwan so the world sees we will not back down or abandon commitments.
          </label>
        </div>
      </div>

      <button type="submit" class="btn">See My Result</button>
      <div id="warning" class="warning"></div>
    </form>

    <div id="result" class="result">
      <div class="result-title" id="resultTitle"></div>
      <div class="result-subtitle" id="resultStrategy"></div>
      <p class="result-text" id="resultDescription"></p>
      <div class="score-breakdown" id="scoreBreakdown"></div>

      <div class="charts-wrapper">
        <div class="chart-card">
          <div class="chart-title">Your Grand Strategy Profile</div>
          <div class="chart-subtitle">
            Each axis shows how many of your answers aligned with that strategy.
          </div>
          <canvas id="individualChart"></canvas>
        </div>
      </div>
    </div>

    <div class="footer-note">
      This quiz is for classroom fun and learning about IR grand strategy concepts,
      not a political test.
    </div>
  </div>

  <script>
    const descriptions = {
      A: {
        name: "Isolationism / Restraint",
        text: "You prefer focusing on domestic priorities and avoiding deep entanglements abroad. You’re wary of costly foreign wars and skeptical that international institutions or liberal projects reliably serve the national interest."
      },
      B: {
        name: "Selective / Deep Engagement",
        text: "You support active involvement in world affairs, but only where the stakes are clearly vital. Institutions, alliances, and tools of statecraft are useful when they advance concrete interests in key regions."
      },
      C: {
        name: "Liberal Hegemony",
        text: "You believe a major power should lead in upholding a liberal international order, promoting democracy, and strengthening institutions and alliances. Activism abroad is necessary to prevent instability and support liberal norms."
      },
      D: {
        name: "Conservative Primacy",
        text: "You prioritize military strength, credibility, and deterrence. The goal is to maintain dominance, punish challengers, and show rivals and allies alike that commitments will be enforced and weakness will not be tolerated."
      }
    };

    let individualChart = null;

    const labels = [
      "Isolationism / Restraint (A)",
      "Selective / Deep Engagement (B)",
      "Liberal Hegemony (C)",
      "Conservative Primacy (D)"
    ];

    function makeRadarChart(ctx, dataArray, label, borderColor, bgColor) {
      return new Chart(ctx, {
        type: "radar",
        data: {
          labels: labels,
          datasets: [
            {
              label: label,
              data: dataArray,
              fill: true,
              borderColor: borderColor,
              backgroundColor: bgColor,
              pointRadius: 3,
              pointHoverRadius: 4,
              borderWidth: 2
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              beginAtZero: true,
              ticks: {
                stepSize: 1
              },
              angleLines: {
                color: "#e5e7eb"
              },
              grid: {
                color: "#e5e7eb"
              },
              pointLabels: {
                font: {
                  size: 11
                }
              }
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
    }

    function updateIndividualChart(scores) {
      const dataArray = [scores.A, scores.B, scores.C, scores.D];
      const ctx = document.getElementById("individualChart").getContext("2d");
      if (individualChart) individualChart.destroy();
      individualChart = makeRadarChart(
        ctx,
        dataArray,
        "Your Profile",
        "rgba(37, 99, 235, 1)",
        "rgba(37, 99, 235, 0.25)"
      );
    }

    document.getElementById("grandStrategyForm").addEventListener("submit", function (event) {
      event.preventDefault();

      const warningEl = document.getElementById("warning");
      const resultEl = document.getElementById("result");
      warningEl.textContent = "";
      resultEl.style.display = "none";

      const answers = {};
      let allAnswered = true;

      // Now 9 questions
      for (let i = 1; i <= 9; i++) {
        const qName = "q" + i;
        const selected = document.querySelector(`input[name="${qName}"]:checked`);
        if (!selected) {
          allAnswered = false;
          break;
        }
        answers[qName] = selected.value;
      }

      if (!allAnswered) {
        warningEl.textContent = "Please answer all questions before seeing your result.";
        return;
      }

      const scores = { A: 0, B: 0, C: 0, D: 0 };

      Object.keys(answers).forEach((q) => {
        const val = answers[q];
        if (scores.hasOwnProperty(val)) {
          scores[val] += 1;
        }
      });

      // Find highest score(s)
      const maxScore = Math.max(scores.A, scores.B, scores.C, scores.D);
      const topStrategies = Object.keys(scores).filter((k) => scores[k] === maxScore);

      const resultTitleEl = document.getElementById("resultTitle");
      const resultStrategyEl = document.getElementById("resultStrategy");
      const resultDescEl = document.getElementById("resultDescription");
      const scoreBreakdownEl = document.getElementById("scoreBreakdown");

      if (topStrategies.length === 1) {
        const key = topStrategies[0];
        resultTitleEl.textContent = "Your Grand Strategy Match:";
        resultStrategyEl.textContent = descriptions[key].name;
        resultDescEl.textContent = descriptions[key].text;
      } else {
        const names = topStrategies.map((k) => descriptions[k].name).join(", ");
        resultTitleEl.textContent = "You’re a Mix of Strategies!";
        resultStrategyEl.textContent = names;
        resultDescEl.textContent =
          "Your answers span multiple grand strategies. This is common—many policymakers mix elements of different approaches depending on the issue.";
      }

      // Score breakdown text
      scoreBreakdownEl.innerHTML = `
        <strong>Your answer breakdown:</strong><br/>
        <span class="score-badge">A (Isolationism / Restraint): ${scores.A}</span>
        <span class="score-badge">B (Selective / Deep Engagement): ${scores.B}</span>
        <span class="score-badge">C (Liberal Hegemony): ${scores.C}</span>
        <span class="score-badge">D (Conservative Primacy): ${scores.D}</span>
      `;

      resultEl.style.display = "block";

      // Update individual chart
      updateIndividualChart(scores);

      resultEl.scrollIntoView({ behavior: "smooth", block: "start" });
    });
  </script>
</body>
</html>
